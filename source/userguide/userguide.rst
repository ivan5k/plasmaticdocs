Руководство оператора ЧПУ
================================


Начало работы
--------------

Удостоверьтесь, что к станку подключен кабель заземления, а к столу подключен рабочий кабель источника. 
Включите вводной рубильник на шкафу автоматики.  
Убедитесь, что питание подано, а кабель Ethernet подключен в соответствующий порт компьютера, 
после чего включите ПК. После того, как ПК полностью загрузится, запустите программу Plasmatic Precision 
Layout двойным кликом по иконке на рабочем столе.
Для стабильной работы ЧПУ не рекомендуется запускать посторонние программы во 
время работы с интерфейсом ЧПУ. 
До тех пор, пока не загружена ни одна программа, настройки движения станка соответствуют настройкам 
по умолчанию. 

Панель управления ЧПУ
----------------------

Экран интерфейса поделен на три части: блок управления ЧПУ, окно визуализации и информационный блок. 

Вкладка «Файл»
^^^^^^^^^^^^^^^

.. image:: art/file_tab.jpg
   :alt: Вкладка «Файл»
   :align: center

Вкладка «**Файл**» позволяет загружать и редактировать программу, находящуюся на съемном носителе или на жестком диске ПК.

Кнопка «**Открыть**» открывает проводник Windows для выбора управляющей программы. ЧПУ позволяет загружать программы в формате .cnc , .txt и .ess.

.. image:: art/file_tab_open.jpg
   :alt: Открыть
   :align: center

Кнопка «**Редактировать**» открывает проводник для выбора
программы, которую необходимо отредактировать. Присутствует окно
визуализации и масштабирование, изменения отображаются в реальном
времени. Так же можно сохранить программу, как с заменой оригинального
файла программы, так и без замены.

.. image:: art/code_editor.jpg
   :alt: Редактировать
   :align: center

Кнопка «**Создать**» позволяет создать программу в соответствии с
инструкцией по программированию, окно визуализации присутствует.

Кнопка «**Сохранить**» сохраняет действующую в данный момент
программу.


Вкладка «Резка»
^^^^^^^^^^^^^^^^^^

.. image:: art/cut_tab.jpg
   :alt: Вкладка «Резка»
   :align: center

Во вкладке «Резка» осуществляется выбор режима обработки программы, управление программой и основные настройки.

**Режимы работы ЧПУ:**

Кнопка «**Резка**» - полноценный режим работы по программе с включением дуги.

Кнопка «**Проход**» - выполняется только проход по контуру. Дуга не зажигается, датчик касания листа неактивен. Используется для корректного позиционирования резака над заготовкой.

Кнопка «**Симуляция**» - проход по контуру в окне визуализации. Осуществляется без какого-либо движения станка. Используется для определения корректности порядка резки и переходов между пробивками.

Кнопка «**Поворот листа**» служит для позиционирования раскроя относительно листа, если лист лежит на столе не симметрично. 

**Управление:**

Кнопка «**Старт**» - запускает цикл обхода программы в зависимости от выбранного режима работы.

Кнопка «**Стоп**» - однократное нажатие работает как пауза, то есть останавливает выполнение программы, после чего можно нажать на кнопку «старт», продолжив ее выполнение. Двукратное нажатие кнопки «Стоп» полностью завершает выполнение программы со сбросом положения резака на контуре.

**Движение по контуру:**

Кнопки «**Вперед**» и «**Назад**» позволяют передвинуть резак вперед и назад по контуру если выполнение программы остановлено.

**Возврат в контур:**

Кнопка «**Возврат**» дает возможность вернуться в точку на контуре, где была остановлена программа, если после остановки было произведено смещение с контура.

**Настройки:**

Кнопка «**Стабилизатор**» включает и выключает стабилизатор высоты резака.

Кнопка «**Поиск листа**» активирует систему поиска листа. Резак начинает движение до заготовки, по достижении которого поднимается на высоту холостого хода.

Кнопка «**Параметры**» открывает окно настроек станка. Подробное описание настроек смотреть в главе `Настройки ЧПУ`_

**Масштабирование:**

Кнопки «**Увеличить**» и «**Уменьшить**» изменяют размер отображаемой программы относительно окна визуализации.

Вкладка «Переход»
^^^^^^^^^^^^^^^^^^

.. image:: art/move_tab.jpg
   :alt: Вкладка «Переход»
   :align: center

Вкладка «Переход» используется для навигации по деталям или кадрам.

**Выбор кадров:**

Кнопки «**Назад**» и «**Вперед**» перемещают точку потенциальной позиции резака на один кадр назад или вперед

**Выбор детали:**

Кнопки «**Назад**» и «**Вперед**» позволяют пропустить одну или несколько деталей и перейти к резке нужной детали.

**Программа:**

Кнопки «**Начало**» и «**Конец**» позволяют перейти в начало или конец программы.

**Перемещение:**

Кнопка «**Дом**» активирует режим выхода в ноль станка.

Кнопка «**Перемещение**» подает резак в точку, указанную при перемещении по контуру или при пропуске кадров.

**Пропуск кадров:**

Кнопка «**Начать**» запускает режим пропуска кадров, который доступен не только после начала обработки программ, но и до начала обработки.

Вкладка «Сервис»
^^^^^^^^^^^^^^^^^^

.. image:: art/service_tab.jpg
   :alt: Вкладка «Сервис»
   :align: center

Кнопка «**Состояние контроллера**» открывает окно, в котором 
отображаются входы и выходы контроллера, и их активность.

Кнопка «**Напряжение на дуге**» открывает окно с графиком напряжения дуги.

Кнопка «**Лазерный указатель**» активирует модуль лазерного указателя и смещает 
суппорт так, что лазерный указатель находится в том месте, где находился резак. Лазерный указатель 
облегчает выравнивание раскроя на листе и определение точки начала программы.

Кроме того, на этой вкладке размещены кнопки для ручной настройки газового резака.

Кнопка «**Подогрев**» включает клапаны для подачи газа прогрева.

.. warning:: 
   Кнопка «Подогрев» ВЫКЛЮЧАЕТСЯ ВРУЧНУЮ!

Кнопка «**Зажигание**» включает клапан поджигающего газа и осциллятора на время, указанное в настройках 
в графе «Время розжига» на вкладке «Циклограмма газовой резки»

Кнопка «**Кислород**» активирует клапан подачи режущего кислорода. 

.. warning:: 
   Кнопка «Кислород» ВЫКЛЮЧАЕТСЯ ВРУЧНУЮ!

Окно визуализации
------------------

В окне визуализации мы можем наблюдать расположение программы относительно листа. 
Общий размер программы по двум сторонам указан в правом нижнем углу окна. Траектория резки 
отображается желтыми линиями. Белыми линиями показана траектория передвижения инструмента между 
деталями на холостом ходу. Позиция резака изображена зеленой точкой. 

.. image:: art/drawing_visualization.jpg
   :alt: Окно визуализации
   :align: center

Измерение в окне визуализации
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Если вам нужно узнать размер какого-либо элемента раскроя, вы можете 
воспользоваться встроенной в окно визуализации линейкой. Для измерения подведите курсор начальной 
точке измеряемого объекта, зажмите правую кнопку мыши, а затем передвиньте курсор в конечную точку.

Управление движением станка
------------------------------------

Ручное управление движением станка может осуществляться с клавиатуры ПК или с пульта дистанционного 
управления, с учетом того, что некоторые функциональные клавиши доступны только на клавиатуре ПК.

Клавиатура ПК
^^^^^^^^^^^^^^^^^^^^^^

На клавиатуре ПК доступны следующе клавиши:

Клавиши 1, 2, 3, 4 открывают соответствующие вкладки основного меню. Кнопки во всех меню подписаны значением определенной клавиши, назначенной для активации данного действия.

Клавиши направления – передвижение станка в нужном направлении. Дублируются клавишами направления на цифровой клавиатуре справа. Также клавиши направления «**влево**» и «**вправо**» осуществляют переход между кадрами в режиме пропуска кадров.

1.	Клавиша «**Enter**» – старт программы.

2.	Клавиша «**Пробел**» – однократное нажатие – пауза в программе, двукратное – отмена выполнения программы.

3.	Клавиша «**Home (Pause)**» – передвижение вверх по оси Z.

4.	Клавиша «**End (brake)**» – перемещение вниз по оси Z.

5.	Кнопка «**Pg up (Page up)**» – перемещение вверх по оси Z на один шаг.

6.	Кнопка «**Pg dn (Page down)**» - перемещение вниз по оси Z на один шаг.

7.	Клавиша «**÷**» – уменьшение заданного напряжения дуги на 1 В.

8.	Клавиша «**×**» – увеличение заданного напряжения дуги на 1 В.

9.	Клавиша «**-**» – уменьшение рабочей скорости на 1%. 

10.	Клавиша «**+**» – увеличение рабочей скорости на 1%.

Пульт дистанционного управления
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

На пульте дистанционного управления располагаются только основные клавиши управления станком: клавиши направления передвижения, клавиши опускания и подъема резака, и клавиши «****Старт****» (зеленая) и «****Стоп****» (красная).

Настройки ЧПУ
---------------------
Окно настроек ЧПУ вызывается кнопкой «**Параметры**» во вкладке «**Резка**». Окно 
поделено на четыре вкладки. Оператору нужно заполнить только вкладку «**Основные настройки**», 
после чего можно начинать работать. Если вы меняете параметр в этой вкладке, он меняется 
и в остальных. Эти вкладки нужны для более тонкой настройки ЧПУ. 

Необдуманное изменение параметров в этих вкладках может нанести повреждения, как 
станку, так и персоналу.

Вкладка «Основные настройки»
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. image:: art/settings_main.jpg
   :alt: Вкладка «Основные настройки»
   :align: center

«**Малая скорость движения**» — скорость, до которой замедляется машина при обходе углов.

«**Не использовать скорость, заданную в УП**» – включение этой опции позволяет использовать величину рабочей скорости, установленную в ЧПУ, а не в управляющей программе.

«**Рабочая скорость движения**» - скорость, на которой выполняется программа, скорость резки. Можно корректировать ("+" и "-") непосредственно во время резки.

«**Поправка на ширину реза**» — параметр, необходимый для правильного размещения деталей в раскрое и сохранения необходимого их размера. Задается или в ЧПУ, или в САПР, в соответствии с руководством к источнику. В ЧПУ вносится половина от табличного значения.

«**Задать напряжение для стабилизатора высоты вручную**» — если  пункт активирован — появляется возможность установить напряжение для отслеживания стабилизатором высоты; не активирован — система автоматически отслеживает напряжение и в течение некоторого времени устанавливает заданное напряжение самостоятельно для поддержания необходимой высоты. Можно корректировать («**×**» и «**÷**») непосредственно во время резки.

Параметры «**Время прожига**», «**Высота прожига**» и «**Высота резки**» задаются в соответствии с руководством для источника плазмы, с помощью которого производится резка или исходя из опыта оператора

«**Поворот листа**» — аналог кнопки на панели управления, с той разницей, что корректировка вводится напрямую в градусах.


Вкладка «Параметры движения»
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. image:: art/settings_moveparams.jpg
   :alt: Вкладка «Параметры движения»
   :align: center

«**Скорость движения в ручном режиме**» – скорость, с которой движется инструмент, если мы управляем им с клавиатуры ПК или ПДУ.

«**Скорость в режиме холостого хода**» – скорость, с которой инструмент передвигается между прожигами в процессе выполнения программы.

«**Ускорение**» — величина ускорения с нуля до необходимой скорости.

«**Задержка аварии дуги после обрыва**» – время, за которое станок реагирует на гашение дуги в процессе выполнения программы

«**Задержка аварии дуги после включения**» – время, за которое станок реагирует на отсутствие дуги, если дана команда на зажигание.

«**Замедление на окружностях диаметром менее**» - величина, после которой замедление включаться не будет (напр. величина равна 30, при диаметре отверстия равном 31мм замедление работать уже не будет).

«**Коэффициент замедления на окружностях**» – процент скорости, до которого снижается скорость при обходе малых диаметров.

«**Задержка гашения дуги**» — время, за которое дуга погаснет после окончания обхода контура.

«**Поворот листа**» — аналог кнопки на панели управления, с той разницей, что корректировка вводится напрямую в градусах.

Вкладка «Циклограмма плазменной резки»
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. image:: art/settings_plasma.jpg
   :alt: Вкладка «Циклограмма плазменной резки»
   :align: center

Во всех режимах система регулировки высоты резака выполняет определение исходной высоты, опускаясь сначала на высокой скорости на расстояние быстрого спуска (h1), а затем на малой скорости на расстояние медленного спуска до тех пор, пока не достигнет предельного значения (h2) или заготовки. После чего возвращается на величину «**Высота зажигания**» (h3).
После зажигания резака плазменная дуга переносится на заготовку, затем резак перемещается на высоту «**Высота прожига**» (h4) на время, указанное параметром «**Время прожига**» (t1). При выполнении последовательности этих действий перед резкой система регулировки высоты резака отключена и ЧПУ не отслеживает дуговое напряжение. По истечении времени «**Время прожига**» (t1) резак начинает опускаться на «**Высоту резки**» (h5). После того, как истечет время между включением дуги и включением стабилизатора высоты (вкладка «**Стабилизатор высоты**») и скорость резки станет равной скорости, установленной в программе резки, ЧПУ начнет отслеживать дуговое напряжение. По окончании резки инструмент поднимается на «**высоту холостого хода**» (h6).

Сумма h1 и h2 должна превышать величину h6 на 20 мм, чтобы избежать остановок во время поиска поверхности, если лист имеет неровности. Высота зажигания должна быть немного меньше высоты прожига.

«**Порог напряжения датчика усилия**» — напряжение, при котором срабатывает датчик момента на валу двигателя.

«**Смещение роллера**» — величина, на которую поднимается лифт при срабатывании роллера.

«**Задержка выключения**» — время выключения дуги после прохода контура.

Вкладка «Циклограмма газовой резки»
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. image:: art/settings_gas.jpg
   :alt: Вкладка «Циклограмма газовой резки»
   :align: center

Последовательность работы газовой системы можно проследить на циклограмме по аналогии с циклограммой плазменной резки.

В отличие от режима плазменной резки, в режиме газовой резки присутствуют такие величины, как:

«**Время прогрева**» — время, за которое прогревается металл перед последующей пробивкой.

«**Высота прогрева**» — высота, на которой осуществляется прогрев металла.

В режиме газовой резки поиск листа осуществляется при помощи емкостного датчика. Для калибровки положения газового резака над металлом нужно установить необходимую высоту в графу «**Высота калибровки датчика высоты**» и определить соответствующее ей напряжение, после чего записать это напряжение в графу «**Напряжение на высоте калибровки**». Подбор напряжения осуществляется путем опускания резака с датчиком необходимую высоту над металлом, и последующего наблюдения за аналоговым входом газового датчика в ЧПУ. Величины, такие как «**высота прогрева**», «**высота резки**» и подобные, зависимы от значения «**Высота калибровки датчика высоты**».

Вкладка «Стабилизатор высоты»
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. image:: art/settings_thc.jpg
   :alt: Вкладка «Стабилизатор высоты»
   :align: center

«**Напряжение на дуге для стабилизатора высоты**» – заданное напряжение для сравнения с действительным напряжением на дуге во время резки.

«**Стабилизируемое значение ёмкостного датчика высоты**» – напряжение, которое будет поддерживать стабилизатор высоты при работе газового резака. Не зависит от напряжения калибровки датчика.

«**Задержка между стартом резки и включением стабилизации высоты**» — величина должна быть больше параметра «**время прожига**». При прожиге напряжение на дуге может быть нестабильно и для предотвращения нежелательных движений резака величина задержки включения стабилизации задается так, чтобы стабилизация включилась в момент, когда станок вышел на рабочую скорость резки.

Следующие параметры можно менять только на свой страх и риск, либо под контролем поставщика.

«**Количество точек расчета среднего для стабилизатора высоты**» -  

«**Интегральный коэффициент для стабилизатора высоты**» - 

«**Порог срабатывания пропорционального регулятора**» - 

«**Коэффициент замедления пропорционального регулятора**» - 

Стабилизатор высоты
------------------------

Стабилизатор высоты – это система, которая отслеживает действительное напряжение дуги, сравнивает его с заданным напряжением и, путем поднятия и опускания резака, приближает эти значения. Это нужно для того, чтобы в случае искривления листа резак не повредился или не сдвинул лист со стола, для достижения наиболее качественного разреза, а также для уменьшения образования окалины и шлака. Напряжение можно изменять клавишами «**×**» и «**÷**».

* Если действительное значение дугового напряжение больше заданного значения дугового напряжения, то резак перемещается вниз.
* Если действительное значение дугового напряжение меньше заданного значения дугового напряжения, то резак перемещается вверх.
* Чем больше заданное значение дугового напряжения, тем больше высота резки.
  
В данном ЧПУ стабилизатор высоты может работать в двух режимах: задание напряжения вручную и автоматическое определение напряжения.

Задание напряжения для стабилизатора высоты вручную
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

При включении опции «**Задать напряжение для стабилизатора высоты вручную**» после включения стабилизатора система работает в обычном режиме, сравнивая действительное и заданное напряжения и корректируя положение резака. Этот режим подходит, если у вас уже есть необходимое значение заданного напряжения для данной толщины материала и данного режима резки.  

Автоматическое определение напряжения для стабилизатора высоты
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Если опция «**Задать напряжение для стабилизатора высоты вручную**» отключена, то в начале резки ЧПУ несколько раз измеряет значение дугового напряжения и усредняет полученные значения. Затем для параметра «**Напряжение на дуге для стабилизатора высоты**» вместо значения, указанного на экране «**Стабилизатор высоты**», используется среднее измеренное значение напряжения. Этот режим используется, если неизвестно, какую величину напряжения нужно выставить для поддержания нужной высоты резки. Полученную величину можно откорректировать, записать и использовать как опорное значение при последующей резке в таких же условиях в режиме задания напряжения.

Система выравнивания листа
---------------------------------

Система выравнивания листа позволяет размещать раскрой на листе металла, если лист лежит на столе неровно. После того, как лист положен на стол, нужно подвести инструмент к тому углу листа, где начинается программа, и нажать на клавишу «**Поворот листа**», которая находится на вкладке «**Резка**». Далее необходимо переместить инструмент к следующему углу на той же стороне листа и повторно нажать на кнопку «**Поворот листа**». ЧПУ самостоятельно рассчитывает положение листа и делает корректировку, после чего в окне визуализации отображается угол поворота листа, а изображение программы наклоняется. 
Теперь можно подвести инструмент к углу листа, в котором была отмечена первая опорная точка выравнивания, и начать выполнение программы. Начинать выравнивание желательно с того угла, откуда начинается выполнение программы. Оптимальная схема выравнивания листа определяется по ходу эксплуатации станка.


Информационный блок
-----------------------

Информационный блок находится в нижней части экрана. В нем отображаются координаты положения инструмента, скорость движения инструмента, состояние стабилизатора высоты и состояние системы. Изменения скорости движения инструмента и заданного напряжения дуги отображаются в реальном времени.


Пример работы с ЧПУ
------------------------

После загрузки программы S-CUT Compact мы видим интерфейс ЧПУ.
Переходим во вкладку «**Файл**» и загружаем нужную программу с помощью кнопки «**Открыть**». Можно загрузить программу как со съемного носителя, так и с жесткого диска ПК. Также можно создать программу вручную с помощью кнопки «**Создать**». После загрузки программы откроется окно настроек.
Вписываем нужные значения во вкладке «**Основные настройки**». Нажимаем ОК.
Выбираем режим работы на экране «**Резка**» (резка, проход, симуляция).
Если необходимо, включаем стабилизатор высоты. Его можно включить или выключить и в процессе резки.
Нажимаем кнопку «**Поиск листа**» если не уверены в срабатывании датчика листа, вследствие неисправного заземления или загрязнения листа металла.
Нажимаем кнопку «**Старт**» для запуска программы.

Пропуск кадров и переход по контуру
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

При необходимости можно зайти на вкладку «**Переход**» и включить режим пропуска кадров кнопкой «**Начать**». Переходим к нужному кадру или детали, следя за точкой, которая отображает позицию резака, и нажимаем кнопку «**Переход**», после чего резак автоматически переместится в нужное положение. После этого можно перейти на вкладку «**Резка**» и начать обработку программы с указанного места. После нажатия кнопки «**Дом**» резак переместится в начальное положение, если это необходимо.

Переход по контуру доступен, когда программа находится в режиме паузы, если была однократно нажата кнопка «**Стоп**». Если программа находится в режиме паузы вследствие ошибки или аварии, то прежде чем продолжить ее выполнение или перемещение по контуру, нужно устранить неисправность и деактивировать сервисный режим. 

